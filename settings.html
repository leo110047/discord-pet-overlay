<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>設定 - ODANGO</title>
    <link rel="stylesheet" href="/src/settings.css" />
  </head>
  <body>
    <!-- 標題列區域（macOS 視窗按鈕預留空間） -->
    <div class="titlebar-spacer" data-tauri-drag-region></div>

    <div id="settings-app">
      <!-- 連線狀態 -->
      <div class="status-section">
        <div id="connection-status" class="status disconnected">
          <span class="status-dot"></span>
          <span class="status-text">未連線</span>
        </div>
      </div>

      <!-- 連線設定區塊 - 未連線時顯示 -->
      <div id="pairing-section" class="settings-section">
        <div class="section-title">配對設定</div>

        <!-- 步驟 1：輸入 Discord ID -->
        <div class="form-group">
          <label for="discord-id">步驟 1：輸入你的 Discord ID</label>
          <p class="section-desc">在 Discord 設定中開啟「開發者模式」，然後右鍵點擊自己的頭像，選擇「複製 ID」</p>
          <div class="input-row">
            <input type="text" id="discord-id" placeholder="例如：123456789012345678" inputmode="numeric" />
            <button id="request-code-btn" class="secondary-btn" type="button">發送配對碼</button>
          </div>
        </div>

        <!-- 步驟 2：輸入配對碼 -->
        <div class="form-group">
          <label for="pair-code">步驟 2：輸入收到的配對碼</label>
          <p class="section-desc">Bot 會私訊一組 6 位數配對碼給你</p>
          <div class="input-row">
            <input type="text" id="pair-code" placeholder="輸入 6 位數配對碼" maxlength="6" inputmode="numeric" />
            <button id="link-btn" class="primary-btn" type="button">連結</button>
          </div>
        </div>
      </div>

      <!-- 已連線時顯示 -->
      <div id="connected-section" class="settings-section hidden">
        <div class="section-title">帳號</div>
        <div class="form-group">
          <button id="logout-btn" class="danger-btn" type="button">登出 / 重新配對</button>
        </div>
      </div>

      <!-- 外觀設定區塊 -->
      <div class="settings-section">
        <div class="section-title">視窗設定</div>

        <div class="form-group">
          <label>視窗位置調整</label>
          <p class="section-desc">按住 <kbd>Ctrl+O</kbd> 0.5 秒進入互動模式，可拖曳視窗位置和調整寬度</p>
          <button id="reset-position-btn" class="secondary-btn" type="button">重置視窗位置</button>
        </div>
      </div>

      <!-- 寵物選擇器區塊 -->
      <div id="pet-selector" class="settings-section hidden">
        <div class="section-title">選擇要顯示的寵物</div>
        <p class="section-desc">勾選要在桌面上顯示的寵物（可多選）</p>
        <div id="pet-list" class="pet-list">
          <!-- 寵物列表會由 JavaScript 動態生成 -->
        </div>
      </div>

      <!-- 關於區塊 -->
      <div class="settings-section">
        <div class="section-title">關於</div>
        <div class="form-group">
          <div class="about-row">
            <span>版本</span>
            <span id="app-version">v1.0.5</span>
          </div>
          <button id="check-update-btn" class="secondary-btn" type="button">檢查更新</button>
        </div>
      </div>

      <!-- 錯誤訊息 -->
      <div id="error-message" class="error-message hidden"></div>
    </div>
    <script type="module" src="/src/settings-window.ts"></script>
  </body>
</html>
